{"version":3,"sources":["webpack:///webpack/bootstrap 6b69a984134baccbcc96","webpack:///external \"express\"","webpack:///./src/config.js","webpack:///external \"path\"","webpack:///./src/server.js","webpack:///external \"babel-polyfill\"","webpack:///./src/apis/util.js","webpack:///./src/controllers/en.js","webpack:///./src/controllers/hk.js","webpack:///./src/controllers/home.js","webpack:///./src/controllers/usa.js","webpack:///./src/core/agent/agent.js","webpack:///./src/core/fetch/fetch.server.js","webpack:///./src/middlewares/midParams.js","webpack:///external \"bluebird\"","webpack:///external \"body-parser\"","webpack:///external \"compression\"","webpack:///external \"connect-redis\"","webpack:///external \"cookie-parser\"","webpack:///external \"cors\"","webpack:///external \"ejs-locals\"","webpack:///external \"express-session\"","webpack:///external \"lodash\"","webpack:///external \"method-override\"","webpack:///external \"node-fetch\"","webpack:///external \"pretty-error\"","webpack:///external \"serve-favicon\"","webpack:///external \"superagent\"","webpack:///external \"superagent-retry\""],"names":[],"mappings":";;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA,oC;;;;;;;ACAA;AAAA;AAAA;AACA;;AAEA;AAAA;AAAA;AACA,0DAAiE,KAAK;AAAA;AAAA;AACtE;AAAA;AAAA;;AAEA,2EAA0C,UAAU,MAAM;AAAA;AAAA;;AAE1D;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;AClBA,iC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC+C;;AAE/C;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAmB,2DAAS;AAC5B;AACA;AACA;AACA,wEAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,kCAAkC;AAClC,8BAA8B;AAC9B;AACA;AACA,CAAC;;AAED;AACA;AACA,2DAA2D,uDAAK;AAChE,CAAC;AACD;;;;;;;AC7FA,2C;;;;;;;;;;;;ACAiB;AACjB;AACA;;AAEA;;;AAGA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA,iJAA0F;AAC1F;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR,CAAC;AACD;AACA;AACA;AACA,6IAAsF;AACtF;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;ACpFiB;;AAEjB;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;AACD;;;;;;;;;ACtEA;AAAA;AAAA;AACA;AACA;AACiB;;AAEjB;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;AACD;;;;;;;;;;;;ACpEiB;;AAEjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;AC/DiB;;AAEjB;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;;;ACvIA;;AAEA;;AAEA;AACA;AACA,KAAK,iBAAiB;AACtB,KAAK,cAAc,GAAG,WAAW;AACjC;;AAEA;;yDAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL,GAAG;AACH;;;;;;;;;;;;;;;;;;AC9FA;AAC4C;AAC7B;;AAEf;AACA;;AAEA;AACA;AACA,oBAAoB,IAAI;AACxB;;AAEA;AACA;AACA;;AAEA,mBAAmB,sDAAK,EAAE,IAAI;AAC9B;;AAEA;AACA;AACA;;AAEQ;;;;;;;;ACxBR;AAAA;AAAA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACvBA,qC;;;;;;ACAA,wC;;;;;;ACAA,wC;;;;;;ACAA,0C;;;;;;ACAA,0C;;;;;;ACAA,iC;;;;;;ACAA,uC;;;;;;ACAA,4C;;;;;;ACAA,mC;;;;;;ACAA,4C;;;;;;ACAA,uC;;;;;;ACAA,yC;;;;;;ACAA,0C;;;;;;ACAA,uC;;;;;;ACAA,6C","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 28);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6b69a984134baccbcc96","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","/* eslint-disable max-len */\nimport path from 'path';\n\nexport const port = process.env.PORT || 3000;\nexport const host = process.env.WEBSITE_HOSTNAME || `localhost:${port}`;\nexport const debug = __DEV__;\n\nexport const rootPath = path.normalize(`${__dirname}/..`);  //  ./\n\nexport const cookieSession = {\n  expire: 7 * 24 * 3600 * 1000, // 7天,\n  cookieSecret: 'msds-sempc-cookie',\n  sessionSecret: 'msds-sempc-session',\n};\nexport const redis = {\n  host: '127.0.0.1',\n  port: 6379,\n  db: 0,\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config.js\n// module id = 1\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 2\n// module chunks = 0","/* eslint no-underscore-dangle: 0 */\nimport path from 'path';\n// import fs from 'fs';\nimport express from 'express';\nimport cookieParser from 'cookie-parser';\nimport bodyParser from 'body-parser';\nimport PrettyError from 'pretty-error';\nimport compress from 'compression';\nimport methodOverride from 'method-override';\nimport session from 'express-session';\nimport connectRedis from 'connect-redis';\nimport ejsLocals from 'ejs-locals';\nimport cors from 'cors';\nimport favicon from 'serve-favicon';\nimport { port, redis, cookieSession, rootPath } from './config';\n\nimport midParams from './middlewares/midParams';\n\nconst app = express();\nconst RedisStore = connectRedis(session);\n\n\nglobal.navigator = global.navigator || {};\nglobal.navigator.userAgent = global.navigator.userAgent || 'all';\n// //\n// // Register Node.js middleware\n// // -----------------------------------------------------------------------------\napp.locals.ENV = process.env.NODE_ENV;\napp.locals.ENV_DEVELOPMENT = __DEV__;\napp.engine('ejs', ejsLocals);\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'ejs');\napp.locals._layoutFile = 'layout.ejs';\napp.use(favicon(`${rootPath}/build/public/favicon.ico`));\napp.use(compress());\napp.use('/public', express.static(path.join(__dirname, 'public')));\napp.use(cookieParser());\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(bodyParser.json());\napp.use(bodyParser.raw());\napp.use(bodyParser.text());\napp.use(session({\n  secret: cookieSession.sessionSecret,\n  store: new RedisStore({\n    port: redis.port,\n    host: redis.host,\n    db: redis.db,\n  }),\n  resave: false,\n  saveUninitialized: true,\n  name: 'pc.sem.sid',\n}));\n\n/**\n * -------------------for cors  X-Frame-Options: Allow-From http://www.growingio.com---------------------\n */\napp.all('*', (req, res, next) => {\n  res.header('X-Frame-Options', 'ALLOW-FROM http://www.growingio.com');\n  next();\n});\napp.use(cors());\n//  -----------------------growingio header and cors settings end----------------------------------------\n\n\nif (__DEV__) {\n  app.enable('trust proxy');\n}\napp.use(methodOverride());\n\napp.use(midParams.midParams);\napp.use('/api', require('./apis/util').default);\napp.use('/', require('./controllers/home').default);\napp.use('/usa', require('./controllers/usa').default);\napp.use('/en', require('./controllers/en').default);\napp.use('/hk', require('./controllers/hk').default);\n\n//\n// Error handling\n// -----------------------------------------------------------------------------\nconst pe = new PrettyError();\npe.skipNodeFiles();\npe.skipPackage('express');\n\napp.use((err, req, res, next) => { // eslint-disable-line no-unused-vars\n  console.log(pe.render(err)); // eslint-disable-line no-console\n  res.status(err.status || 500);\n  res.send(err);\n});\n\n/* eslint-disable no-console */\napp.listen(port, () => {\n  console.log(`The server is running at http://localhost:${port}/`);\n});\n/* eslint-enable no-console */\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/server.js\n// module id = 3\n// module chunks = 0","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 4\n// module chunks = 0","import { Router } from 'express';\nimport fetch from '../core/fetch';\nimport agent from '../core/agent';\n\nconst router = new Router();\n\n\nrouter.get('/', (req, res) => {\n  res.json({\n    name: 'abc',\n  });\n});\n\nrouter.post('/post', (req, res) => {\n  res.json({\n    msg: 'ok',\n  });\n});\n\nrouter.post('/phoneCode/', async (req, res, next) => {\n  try {\n    res.json({\n      msg: '获取成功',\n      errorcode: 0,\n      timeout: 60,\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\nrouter.post('/abroadPlan', async (req, res, next) => {\n  const datas = req.body;\n  fetch('http://cache.lp.liuxue.com/api/util/abroadPlan', {\n    method: 'POST',\n    credentials: 'include',\n    body: JSON.stringify(datas),\n    headers: {\n      'Content-Type': 'application/json',\n      referer: req.headers.referer,\n      cookie: req.headers.cookie, //  string\n    },\n  }).then(resp => resp.json()).then(data => {\n    res.json(data);\n  }).catch(err => {\n    next(err);\n  });\n});\n\nrouter.post('/cache', async (req, res, next) => {\n  try {\n    const body = req.body;\n    const data = await agent.post('http://cache.lp.shunshunliuxue.com/api/cache', body, {});\n    res.json(data);\n  } catch (err) {\n    next(err);\n  }\n  // const body = req.body;\n  // fetch('http://cache.lp.liuxue.com/api/cache', {\n  //   method: 'post',\n  //   headers: {\n  //     Accept: 'application/json',\n  //     'Content-Type': 'application/json',\n  //   },\n  //   body: JSON.stringify(body),\n  // })\n  //   .then(resp => resp.json())\n  //   .then(data => {\n  //     console.log(data);\n  //     res.json(data);\n  //   })\n  //   .catch(err => {\n  //     next(err);\n  //   });\n});\n// 请求offers数量\nrouter.post('/offers', async (req, res, next) => {\n  try {\n    const data = await agent.get('https://crpapi.shunshunliuxue.com/offers/count/', {});\n    res.json(data);\n  } catch (err) {\n    next(err);\n  }\n});\n\nexport default router;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/apis/util.js\n// module id = 5\n// module chunks = 0","\nimport { Router } from 'express';\n\nconst router = new Router();\n\n// 英国新版首页\nrouter.get('/v2/home/', async (req, res, next) => {\n  try {\n    res.render('en/enHome', {\n      title: '英国留学网',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 英国留学中介机构\nrouter.get('/agent/', async (req, res, next) => {\n  try {\n    res.render('en/enAgent', {\n      title: '英国留学中介机构',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 英国中学\nrouter.get('/v2/midschool/', async (req, res, next) => {\n  try {\n    res.render('en/enMiddle', {\n      title: '英国中学',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 英国名校\nrouter.get('/famschool/', async (req, res, next) => {\n  try {\n    res.render('en/enFamous', {\n      title: '英国名校',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 英国商科\nrouter.get('/v2/major/sk/', async (req, res, next) => {\n  try {\n    res.render('en/enshangke', {\n      title: '英国商科申请计划',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 英国院校排名 url: /en/v2/schoolranking/\nrouter.get('/v2/schoolranking/', async (req, res, next) => {\n  try {\n    res.render('en/schoolranking', {\n      title: '英国院校排名',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\nexport default router;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/controllers/en.js\n// module id = 6\n// module chunks = 0","/**\n * Created by andy on 17/8/28.\n */\nimport { Router } from 'express';\n\nconst router = new Router();\n\n// 香港研究生\nrouter.get('/v1/master/', async (req, res, next) => {\n  try {\n    res.render('hk/v1/master', {\n      title: '香港研究生-专业 · 高效 · 透明',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\nrouter.get('/v1/fam/:name', async (req, res, next) => {\n  console.log(req.params.name);\n  const name = req.params.name;\n  let title = '';\n  switch (name) {\n    case 'hku':\n      title = '香港大学';\n      break;\n    case 'hkust':\n      title = '香港科技大学';\n      break;\n    case 'cuhk':\n      title = '香港中文大学';\n      break;\n    case 'cityu':\n      title = '香港城市大学';\n      break;\n    case 'polyu':\n      title = '香港理工大学';\n      break;\n    case 'hkbu':\n      title = '香港浸会大学';\n      break;\n    case 'lingnan':\n      title = '香港岭南大学';\n      break;\n    case 'eduhk':\n      title = '香港教育学院';\n      break;\n    default:\n      title = '香港大学';\n  }\n  try {\n    res.render('hk/v1/university', {\n      title: `${title}-专业 · 高效 · 透明`,\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 香港研究生 美洽\nrouter.get('/v1/master/mq/', async (req, res, next) => {\n  try {\n    res.render('hk/v1/masterMeiqia', {\n      title: '香港研究生-专业 · 高效 · 透明',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\nexport default router;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/controllers/hk.js\n// module id = 7\n// module chunks = 0","\nimport { Router } from 'express';\n\nconst router = new Router();\n// const urls = {\n//   cases: 'https://crpapi.shunshunliuxue.com/offers/list/',  //  ?offer_id__in=541,594,740,866案例\n//   caseDetail: 'https://crpapi.shunshunliuxue.com/offers/detail/',\n// };\n\n// 默认为301 到语培页面\nrouter.get('/', async (req, res, next) => {\n  try {\n    res.redirect('/index.html');\n  } catch (err) {\n    next(err);\n  }\n});\n\n//  高考后留学\nrouter.get('/gaokaohou/', async (req, res, next) => {\n  try {\n    res.render('gaokaohou/index', {\n      title: '高考后留学',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n//  语培页面路由\nrouter.get('/index.html', async (req, res, next) => {\n  try {\n    res.render('other/yupei', {\n      title: '托福培训_雅思培训_GRE培训_SAT培训_GMAT培训-顺顺语培',\n      keywords: '顺顺语培专注于各科出国考试，全方位覆盖托福、雅思、GRE、GMAT、SAT、ACT、SSAT、小托福、AEAS、AP、A-level以及各种能力提升课程,为各阶段学生提供针对性强、提分效果好的一对一及班课课程。',\n      description: '托福培训,雅思培训,GRE培,SAT培训,GMAT培训',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 费用页面V2版本\nrouter.get('/fee/v2/', async (req, res, next) => {\n  try {\n    res.render('fee/v2', {\n      title: '留学费用一览',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// service页面V2版本\nrouter.get('/service/v2/', async (req, res, next) => {\n  try {\n    res.render('service/v2', {\n      title: '顺顺留学-专业·透明·高效',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\nexport default router;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/controllers/home.js\n// module id = 8\n// module chunks = 0","\nimport { Router } from 'express';\n\nconst router = new Router();\n\nrouter.get('/hot/home', async (req, res, next) => {\n  try {\n    res.render('usa/hotCollegeList', {\n      title: '美国热门院校首页',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 美国留学中介机构\nrouter.get('/agent/', async (req, res, next) => {\n  try {\n    res.render('usa/usaAgent', {\n      title: '美国留学中介机构',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 美国院校排名 usa/version3/schoolranking_2/\nrouter.get('/version3/schoolranking_2/', async (req, res, next) => {\n  try {\n    res.render('usa/schoolranking_2', {\n      title: '美国大学最新排名',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 美国院校排名 usa/version4/schoolranking/\nrouter.get('/version4/schoolranking/', async (req, res, next) => {\n  try {\n    res.render('usa/schoolrankingV4', {\n      title: '美国大学最新排名',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 美国version3_1中学 usa/version3/midschool_1\nrouter.get('/version3/midschool_1/', async (req, res, next) => {\n  try {\n    res.render('usa/midschoolV1', {\n      title: '美国中学',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n// 美国version4_1中学 usa/version4/midschool\nrouter.get('/version4/midschool/', async (req, res, next) => {\n  try {\n    res.render('usa/usaMiddleV4', {\n      title: '美国中学',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 美国version4_1中学 usa/version4/midschool_1\nrouter.get('/version4/midschool_1/', async (req, res, next) => {\n  try {\n    res.render('usa/usaVersion4_1', {\n      title: '美国中学',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 美国热门专业 usa/version3/major\nrouter.get('/version3/major/', async (req, res, next) => {\n  try {\n    res.render('usa/usaMajor', {\n      title: '美国热门专业',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 美国本科 usa/version3/undergraduate\nrouter.get('/version3/undergraduate/', async (req, res, next) => {\n  try {\n    res.render('usa/undergraduateV3', {\n      title: '美国本科',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 美国V4-聚合页 usa/version4/home\nrouter.get('/version4/home/', async (req, res, next) => {\n  try {\n    res.render('usa/usaVersion4', {\n      title: '美国留学新手必读',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 美国V4-聚合页 usa/version4/home\nrouter.get('/version4/home_1/', async (req, res, next) => {\n  try {\n    res.render('usa/usaVersion4Home1', {\n      title: '美国留学新手必读',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\n// 名校招生官巡回评审会 usa/zhaosg/\nrouter.get('/zhaosg/', async (req, res, next) => {\n  try {\n    res.render('usa/usaZhaosg', {\n      title: '名校招生官巡回评审会',\n    });\n  } catch (err) {\n    next(err);\n  }\n});\n\nexport default router;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/controllers/usa.js\n// module id = 9\n// module chunks = 0","import request from 'superagent';\n\nrequire('superagent-retry')(request);\n\nconst generateError = (err) => {\n  return Object.assign(err.response ? err.response.body :\n    { code: err.code }, err.response ? err.response.error :\n    { status: 500 }, { raw: err });\n};\n\nconst timeout = 120 * 1000;\n\nexport default {\n  get: (path, query, ip = '0.0.0') => new Promise((resolve, reject) => {\n    const req = request\n      .get(path)\n      .retry(5)\n      .timeout(timeout)\n      .set('X-Real-IP', ip)\n      .accept('application/json');\n\n    if (query) {\n      req.query(query);\n    }\n\n    req.end((err, res) => {\n      if (err) {\n        reject(generateError(err));\n      } else {\n        resolve(res.body || res);\n      }\n    });\n  }),\n\n  put: (path, data, query, ip = '0.0.0') => new Promise((resolve, reject) => {\n    const req = request.put(path)\n      .retry(5)\n      .timeout(timeout)\n      .set('X-Real-IP', ip)\n      .accept('application/json')\n      .send(data);\n\n    if (query) {\n      req.query(query);\n    }\n\n    req.end((err, res) => {\n      if (err) {\n        reject(generateError(err));\n      } else {\n        resolve(res.body || res);\n      }\n    });\n  }),\n\n  post: (path, data, query, ip = '0.0.0') => new Promise((resolve, reject) => {\n    const req = request.post(path)\n      .retry(5)\n      .timeout(timeout)\n      .set('X-Real-IP', ip)\n      .accept('application/json')\n      .send(data);\n\n    if (query) {\n      req.query(query);\n    }\n\n    req.end((err, res) => {\n      if (err) {\n        reject(generateError(err));\n      } else {\n        resolve(res.body || res);\n      }\n    });\n  }),\n\n  del: (path, query, ip = '0.0.0') => new Promise((resolve, reject) => {\n    const req = request.del(path)\n      .retry(5)\n      .timeout(timeout)\n      .set('X-Real-IP', ip)\n      .accept('application/json');\n\n    if (query) {\n      req.query(query);\n    }\n\n    req.end((err, res) => {\n      if (err) {\n        reject(generateError(err));\n      } else {\n        resolve(res.body || res);\n      }\n    });\n  }),\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/core/agent/agent.js\n// module id = 10\n// module chunks = 0","\nimport Promise from 'bluebird';\nimport fetch, { Request, Headers, Response } from 'node-fetch';\nimport { host } from '../../config';\n\nfetch.Promise = Promise;\nResponse.Promise = Promise;\n\nfunction localUrl(url) {\n  if (url.startsWith('//')) {\n    return `https:${url}`;\n  }\n\n  if (url.startsWith('http')) {\n    return url;\n  }\n\n  return `http://${host}${url}`;\n}\n\nfunction localFetch(url, options) {\n  return fetch(localUrl(url), options);\n}\n\nexport { localFetch as default, Request, Headers, Response };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/core/fetch/fetch.server.js\n// module id = 11\n// module chunks = 0","/**\n * Created by noodles on 2017/5/2.\n * description\n */\n\nimport _ from 'lodash';\n\nconst midParams = async (req, res, next) => {\n  try {\n    _.extend(res.locals, {\n      __DEV__: __DEV__, //  eslint-disable-line\n      title: '',\n      description: '',\n      keywords: '',\n    });\n    next();\n  } catch (err) {\n    next();\n  }\n};\n\nexport default {\n  midParams,\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/middlewares/midParams.js\n// module id = 12\n// module chunks = 0","module.exports = require(\"bluebird\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bluebird\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"compression\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"compression\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"connect-redis\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"connect-redis\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"cors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cors\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"ejs-locals\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ejs-locals\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"method-override\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"method-override\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"node-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-fetch\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"pretty-error\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pretty-error\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"serve-favicon\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-favicon\"\n// module id = 25\n// module chunks = 0","module.exports = require(\"superagent\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"superagent\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"superagent-retry\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"superagent-retry\"\n// module id = 27\n// module chunks = 0"],"sourceRoot":""}